#!/usr/bin/env node
"use strict";var e;let r,a,o;Object.defineProperty(exports,"__esModule",{value:!0});const t=(e=require("yargs"))&&e.__esModule?e:{default:e},i=require("./builtin.js"),s=require("./cli.js"),n="||",l=`${n}${n}`,p=`${n}${n}`,d=t.default.usage("Usage: -e <command> -r <required> -o <optional>").option("e",{alias:"exec",describe:"Execute Command",type:"string",demandOption:!0}).option("r",{alias:"requiredParameter",default:"",describe:"Required Parameter",type:"string"}).option("o",{alias:"optionalParameter",default:"{}",describe:"Optional Parameter",type:"string"}).option("s",{alias:"saveOption",default:"",describe:"Save file for result(return)",type:"string"}).parseSync(),c={exec:d.e,requiredParameter:d.r,optionalParameter:d.o,saveOption:d.s},u=(e,r,a=n)=>{let o=r.split(a);return e&&e.split(a).forEach((e,r)=>{e&&(o[r]=e)}),o},m=(e,r,a=n)=>u(e,r,a),$=(e,r,a=`options.json${n}json${n}1`,o=n)=>{let[t,s,l]=u(r,a,o);switch(console.log(`@@@saveOption: ${r}`),s){case"file":(0,i.saveFile)(t,e),l&&console.log(`${e}`);break;case"json":(0,i.saveJson)(t,e),l&&console.log(`${JSON.stringify(e)}`);break;case"sqlite":console.log(`saveSqlite: ${t}, ${e}`),l&&console.log(`${JSON.stringify(e)}`);break;default:console.log(`save type is not supported: ${s}`)}};switch(c.exec){case"init":a=`repoName${n}jnjsoftone${n}node-simple${n}JnJ Utility For Development`,o=m(c.requiredParameter??"",a,n),$(r=(0,s.initApp)({template:o[2],repoName:o[0],userName:o[1],description:o[3]}),c.saveOption??"",l);break;case"remove":a=`repoName${n}jnjsoftone`,o=m(c.requiredParameter??"",a,n),(0,s.removeApp)({repoName:o[0],userName:o[1]});break;case"zip":let[g,v]=m(c.requiredParameter??`"${n}node_modules/,package-lock.json,.next/"`,n);console.log(`@@@@ zipFolder: ${g}, zipExcluded: ${v}`),$(r=(0,s.zip)(g,v),c.saveOption??"",l);break;case"tree":(0,s.tree)(c.requiredParameter??""),$(r,c.saveOption??"",p);break;case"find":let[f,b]=m(c.requiredParameter??`"${n}"`,n);(0,i.findFiles)(f,b),$(r,c.saveOption??"",p);break;case"del":let[k,q]=m(c.requiredParameter??`"${n}node_modules/,package-lock.json,.git/.next/"`,n);$(r=(0,i.deleteFilesInFolder)(k,q,!0)??"",c.saveOption??"",l);break;case"unzip":let[O,P]=m(c.requiredParameter??`"${n}node_modules/,package-lock.json,.git/.next/"`,n);$(r=(0,s.unzip)(O,P),c.saveOption??"",p);break;default:console.log("Invalid command")}