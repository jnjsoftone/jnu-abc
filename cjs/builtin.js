"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(exports,{PLATFORM:function(){return i},composeHangul:function(){return u},copyDir:function(){return S},deleteFilesInFolder:function(){return w},exists:function(){return v},existsFile:function(){return h},existsFolder:function(){return $},findFiles:function(){return F},findFolders:function(){return x},loadEnv:function(){return p},loadFile:function(){return a},loadJson:function(){return f},makeDir:function(){return m},moveFile:function(){return _},moveFiles:function(){return j},renameFilesInFolder:function(){return O},sanitizeName:function(){return l},saveEnv:function(){return d},saveFile:function(){return y},saveJson:function(){return g},setPath:function(){return s},slashedFolder:function(){return c},substituteInFile:function(){return E}});const r=/*#__PURE__*/function(e,r){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=o?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(i,c,s):i[c]=e[c]}return i.default=e,t&&t.set(e,i),i}(require("fs")),t=(e=require("path"))&&e.__esModule?e:{default:e};function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}const i="win32"===process.platform?"win":"darwin"===process.platform?"mac":"linux"===process.platform?"linux":process.platform,o=e=>e.replace(/^\uFEFF/gm,"").replace(/^\u00BB\u00BF/gm,"").replace(/\r\n/g,"\n"),c=e=>(e=e.replace(/\\/g,"/")).endsWith("/")?e.slice(0,-1):e,s=e=>(e.startsWith(".")&&(e=t.default.join(process.cwd(),e)),c(e)),u=e=>e?e.toString().normalize("NFKC"):"",l=e=>e?(e=u(e)).replace(/\[/g,"(").replace(/\]/g,")").replace(/[^\uAC00-\uD7A3a-zA-Z0-9_\(\)\<\>,\s]/g,"").replace(/\s+/g," ").trim():"",a=(e,t="utf8")=>{try{return o(r.readFileSync(s(e),{encoding:t}))}catch{return""}},f=(e,t="utf8")=>{try{return JSON.parse(o(r.readFileSync(s(e),{encoding:t})))}catch{return{}}},p=(e,t="utf8")=>{try{let n=o(r.readFileSync(s(e),{encoding:t}));if(!n)return{};let i=n.split("\n"),c={};for(let e of i){let r=e.split("="),[t,n]=[r[0].trim(),r.slice(1).join("=").trim()];!t||t.startsWith("#")||t.startsWith("//")||(c[t]=n.replace(/^['"]|['"]$/g,""))}return c}catch{return{}}},d=(e,t,n="utf8")=>{let i=Object.entries(t).map(([e,r])=>`${e}=${r}`).join("\n");r.writeFileSync(s(e),i,{encoding:n})},y=(e,n="",{encoding:i="utf-8",overwrite:o=!0,newFile:c=!0}={})=>{if(e=s(e),c&&r.existsSync(e)){let n=t.default.dirname(e),i=t.default.extname(e),o=t.default.basename(e,i),c=1;for(;r.existsSync(e);)e=t.default.join(n,`${o}(${c})${i}`),c++}r.mkdirSync(t.default.dirname(e),{recursive:!0}),o?r.writeFileSync(e,n,i):r.appendFileSync(e,n,i)},g=(e,r={},{indent:t=2,overwrite:n=!0,newFile:i=!1}={})=>{y(s(e),JSON.stringify(r,null,t),{overwrite:n,newFile:i})},m=e=>{r.mkdirSync(s(e),{recursive:!0})},S=(e,t,n=!0)=>{r.cpSync(s(e),s(t),{recursive:n})},F=(e,n="",i=[])=>{if(!r.existsSync(e))return[];let o=r.readdirSync(e);return i=i||[],o.forEach(function(o){r.statSync(e+"/"+o).isDirectory()?i=F(e+"/"+o,n,i):(n instanceof RegExp?n:new RegExp(n.replace(/\*/g,".*"))).test(o)&&i.push(t.default.join(e,"/",o))}),i};function x(e,n=""){let i=[];for(let o of r.readdirSync(e)){let s=t.default.join(e,o),u=n instanceof RegExp?n:new RegExp(n.replace(/\*/g,".*"));r.statSync(s).isDirectory()&&u.test(o)&&i.push(c(s))}return i}const $=e=>r.existsSync(e),h=e=>r.existsSync(e),v=e=>r.existsSync(e),_=(e,t,n,i)=>{e=c(e),t=c(t),r.rename(`${e}/${n}`,`${t}/${i}`,e=>console.log(e))},j=(e,t,n,i)=>{e=c(e),t=c(t),r.existsSync(t)||r.mkdirSync(t,{recursive:!0});for(let o=0;o<n.length;o++){let c=n[o],s=i[o];r.rename(`${e}/${c}`,`${t}/${s}`,e=>console.log(e))}},O=(e,t,n)=>(e=`${process.env.DIR_ROOT}/${e}`,t=e=>e.endsWith(".ts"),n=r=>`${e}/${r}`,r.readdirSync(e).filter(e=>t(e)).map(e=>n(e))),w=(e,n="node_modules/,.git/.DS_Store",i=!0)=>{try{if(!r.existsSync(e))return;let o=n.split(",").map(e=>e.endsWith("/")?e:e.includes("*")?RegExp("^"+e.replace(/\*/g,".*")+"$"):e);for(let c of r.readdirSync(e))try{let s=t.default.join(e,c),u=r.statSync(s);u.isDirectory()&&i?o.some(e=>"string"==typeof e&&e.endsWith("/")&&c+"/"===e)?r.rmSync(s,{recursive:!0,force:!0}):w(s,n,i):u.isFile()&&o.some(e=>e instanceof RegExp?e.test(c):c===e)&&r.unlinkSync(s)}catch(e){console.error(`Error processing ${c}: ${e.message}`);continue}return{folderPath:e,pattern:n}}catch(r){return console.error(`Error processing folder ${e}: ${r.message}`),{}}},E=(e,r)=>{let t=a(e);if(t){for(let[e,n]of Object.entries(r))t=t.replace(RegExp(e,"g"),n);y(e,t,{overwrite:!0,newFile:!1})}};